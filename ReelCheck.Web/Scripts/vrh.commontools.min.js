function VrhCommonTools(){"use strict";function n(){function i(n,t,i){var u,r;if(console.log("QueryExistInList",n,t,i),t)for(u=t.toLowerCase(),r=0;r<i.length;r++)if(i[r].Text.toLowerCase()===u){$(n).val(i[r].Value);return}$(n).val(-1);return}function n(n,t,i,r,u){const o="@filter1",s="@filter2",h="@filter2",c="@filter";var e=n,f="";for(i&&(f=$("#"+i).val(),f===null&&(f=""));e.includes(o);)e=e.replace(o,f);for(f="",r&&(f=$("#"+r).val(),f===null&&(f=""));e.includes(s);)e=e.replace(s,f);for(f="",u&&(f=$("#"+u).val(),f===null&&(f=""));e.includes(h);)e=e.replace(h,f);for(f="",t&&(f=t,f===null&&(f=""));e.includes(c);)e=e.replace(c,f);return e}function t(n,t,i){var r="VrhAutoComplete.showItemsOfMultiList: ",u;console.log(r+"inputname inputvalue _url",t,i,n);u=$("#"+t+"Multi");$(".multicontainer").off("click"," div:last-child");i?$.ajax({url:n,type:"GET",cache:!1,dataType:"json",success:function(n){var f,o,e;for(console.log(r+"Ajax successful. response data",n),f="",o="",e=0;e<n.length;e++)i.includes(n[e].Value+",")&&(f+='<div class="multicontainer">',f+="<div>"+n[e].Text+"<\/div>",f+='<div data-id="'+n[e].Value+'">X<\/div>',f+="<\/div>");u.html(f).show();$(".multicontainer").on("click"," div:last-child",function(){var n=$("#"+t),i=$(this).data("id")+",",u=n.val(),f=u.replace(i,"");n.val(f);console.log(r+' .multicontainer click event: inputname="'+t+'", oldvalue="'+u+'", replacevalue="'+i+'", newvalue="'+f+'"');$(this).parent(".multicontainer").remove()})},error:function(n){console.log(r+"Ajax unsuccessful!",n.responseText)}}):u.html("").show()}this.init=function(r){var u="VrhAutoComplete.init: ",k,w,b;if(!r.textName)throw new Error(u+'The "textName" is a required parameter!');if(!r.valueName)throw new Error(u+'The "valueName" is a required parameter!');if(!r.url)throw new Error(u+'The "url" is a required parameter!');var h=r.textName,e=r.valueName,c=r.url,l=r.filterid1,a=r.filterid2,v=r.filterid3,f=typeof r.isMultiList=="undefined"?!1:r.isMultiList;typeof f!="boolean"&&(f=!1);var p="input#"+h,o=$(p),y="input#"+e,s=$(y);console.log(u+'textName="'+h+'", valueName="'+e+'", ismultilist='+f);$(p).autocomplete({source:function(t,r){console.log(u+'source event: query="'+t.term+'", valueName="'+e+'", currentvalue=',s.val());var o=n(c,t.term,l,a,v);$.ajax({url:o,type:"GET",dataType:"json",success:function(n){var o,s,e;if(console.log(u+"source event: response data=",n),f){for(o=[],s=$(y).val(),e=0;e<n.length;e++)s.includes(n[e].Value+",")||o.push({Text:n[e].Text,Value:n[e].Value});r($.map(o,function(n){return{label:n.Text,value:n.Text,id:n.Value}}))}else i(y,t.term,n),r($.map(n,function(n){return{label:n.Text,value:n.Text,id:n.Value}}))}})},change:function(){},select:function(i,r){var o,h,y;if(console.log(u+"select event: multi, id",f,r.item.id),f)return o=s.val(),h=o,o+=r.item.id+",",console.log(u+"select event: multi - new="+o+"; original="+h),y=n(c,"",l,a,v),t(y,e,o),s.val(o),this.value="",!1;s.val(r.item.id)},autoFocus:!0,open:function(){},minLength:0});k="'"+h+"'";o.parent("div").append('<i class="glyphicon glyphicon-search"><\/i>');o.parent("div").on("click","i",function(){o.val("");o.autocomplete("search","");o.trigger("focus")});f&&(w=e+"Multi",o.parent("div").append('<div style="display:table-cell;" id="'+w+'"><\/div>'),b=n(c,"",l,a,v),t(b,e,s.val()))}}function t(){function r(){this.url=new String;this.data=null}function u(){this.ajax=new r;this.buttons={};this.buttonsDefault=!0;this.formid=new String;this.title=new String;this.size=new String;this.style=new String;this.shown=null;this.hidden=null}function f(){this.ajax=new r;this.confirm=new String;this.title=new String;this.size=new String;this.style=new String;this.shown=null;this.hidden=null;this.success=null}function i(){function n(){return Math.random().toString(16).slice(-4)}return n()+n()+n()+n()+n()+n()+n()+n()}var n=this,t="VrhBootbox prototype: ";this.LastDialog="";this.DefaultOptions={ajaxType:"get",isVisibleButtons:!1,cancelLabel:"Cancel",cancelCallBack:null,okLabel:"OK",okCallback:null,saveLabel:"Save",noLabel:"No",yesLabel:"Yes",pleaseWaitMessage:null,isReturnInfoJSON:!1,autoClose:0,autoCloseMessage:null,shown:null,hidden:null,styles:[]};this.show=function(r,u){function c(i,r){var u=t+"callAction function: ";$.ajax({cache:!1,url:i,type:f.ajaxType,contenttype:"application/json",datatype:"json",data:null,success:function(t){var y,o,v,i,b,k,s,c,a,p,w;if(r&&r.modal("hide"),!!t[0]&&t[0].ErrorMessage)bootbox.alert(t[0].ErrorMessage);else{if(y=null,f.isVisibleButtons&&(y={ok:{label:f.okLabel,className:"btn btn-success bootboxAction-btn-ok",callback:f.okcallback},cancel:{label:f.cancelLabel,className:"btn btn-secondary bootboxAction-btn-cancel",callback:f.cancelcallback}}),o="",f.isReturnInfoJSON?(t.ReturnValue!=0&&(o+="<div>"+t.ReturnValue+"<\/div>"),o+="<div>"+t.ReturnMessage+"<\/div>"):o=t,v=bootbox.dialog({show:!1,message:o,onEscape:function(){v.modal("hide")},buttons:y}),v.attr("id",e),i=$("#"+e),i.find(".bootbox-body").attr("id",e+"-body"),f.styles)for(b=i.find(".modal-dialog"),k=i.find(".modal-content"),s=0;s<f.styles.length;s++)c=f.styles[s].name,a=f.styles[s].value,console.log(u+"set dialog style: name value",c,a),c&&a&&(c.toLowerCase().indexOf("width")>=0?b.css("max-width",a):k.css(c,a));if(f.autoClose>0){p=i.find(".modal-body");w="autoclose-"+e;p.append('<div class="d-flex justify-content-end" style="margin-bottom:-1rem;font-size:.8rem;" id="'+w+'"><a class="font-italic text-secondary pt-1"><\/a><button class="btn btn-secondary btn-sm py-0 px-1 ml-1" style="opacity:.7;">'+f.cancelLabel+"<\/button><\/div>");i.on("shown.bs.modal",function(){var n=p.find("#"+w);l(i,n.find("a"));n.find("button").on("click",function(){clearTimeout(h);f.autoClose=0;n.remove()})});i.on("hidden.bs.modal",function(){clearTimeout(h);f.autoClose=0})}if(f.shown)i.on("shown.bs.modal",f.shown(e));if(f.hidden)i.on("hidden.bs.modal",f.hidden);i.modal("show");n.LastDialog=v}},error:function(n,t){r!==null&&r.modal("hide");console.log(u+"Ajax hívás sikertelen: ",t,n.responseText)}})}function l(n,t){f.autoClose>0?(f.autoCloseMessage&&t.html(f.autoCloseMessage.format(f.autoClose)),f.autoClose--,h=setTimeout(function(){l(n,t)},1e3)):n.modal("hide")}var a=t+"show method: ",f,h,o;if(!r){bootbox.alert("The Url parameter is required for bootbox.show()!");return}f={};$.extend(!0,f,n.DefaultOptions);u&&$.extend(!0,f,u);var e=i(),v=r.indexOf("?")!==-1?"&":"?",s=r+v+"bootboxid="+e;if(console.log(a+" url",s),f.pleaseWaitMessage){o=n.wait(f.pleaseWaitMessage);o.on("shown.bs.modal",function(){c(s,o)})}else c(s,o)};this.edit=function(r){function l(i){var r=t+"callEditAction function: ";console.log(r+" ops",i);$.ajax({cache:!1,url:i.ajax.url,type:"get",contenttype:"application/json",datatype:"json",data:i.ajax.data,success:function(t){var f,o,s,u;if(!!t[0]&&t[0].ErrorMessage)i.shown?bootbox.alert(t[0].ErrorMessage,function(){i.shown(e)}):bootbox.alert(t[0].ErrorMessage);else{f=null;o=null;i.size&&(i.size.toLowerCase()==="large"?o="large":i.size.toLowerCase()==="small"?o="small":f=parseInt(i.size));s=bootbox.dialog({title:i.title,show:!1,size:o,message:t,onEscape:function(){s.modal("hide")},buttons:i.buttons});s.attr("id",e);u=$("#"+e);u.find(".bootbox-body").attr("id",e+"-body");f&&u.find(".modal-dialog").css("max-width",f);i.styles&&u.find(".modal-content").attr("style",i.styles);u.on("shown.bs.modal",function(){var n=$(this).find("[autofocus]");console.log(r+"1.try $focus",n);n.length?n.focus():setTimeout(function(){var n=$(this).find("[autofocus]");console.log("2.try $focus",n);n.focus()},300);i.shown&&i.shown(e)});if(i.hidden)u.on("hidden.bs.modal",i.hidden);u.modal("show");n.LastDialog=s}},error:function(n,t){console.log(r+"Ajax hívás sikertelen: ",t,n.responseText)}})}var s=t+"edit method: ",f,o,e,h;try{if(console.log(s+"options",r),!r)throw new'The "options" parameter is required!';if(!r.ajax)throw new'The "ajax" parameter is required!';if(!r.ajax.url)throw new'The "ajax.url" parameter is required!';if(f=new u,jQuery.type(r.buttonsDefault)==="boolean"&&(f.buttonsDefault=r.buttonsDefault),!r.formid&&f.buttonsDefault)throw new'The "formid" parameter is required!';for(f.formid=r.formid,f.ajax=r.ajax,r.title&&(f.title=r.title),r.size&&(f.size=r.size),r.style&&(f.style=r.style),r.buttons&&(f.buttons=r.buttons),o=0;o<f.buttons.length;o++)console.log(s+"ops.button["+o+"]",f.buttons[o]);r.shown&&(f.shown=r.shown);r.hidden&&(f.hidden=r.hidden);f.buttonsDefault&&(f.buttons.OK={label:vrhct.bootbox.DefaultOptions.saveLabel,className:"btn btn-success",callback:function(){if(f.formid)return $("#"+f.formid).submit(),!1}},f.buttons.Cancel={label:vrhct.bootbox.DefaultOptions.cancelLabel,className:"btn btn-secondary",callback:function(){}});e=i();h=f.ajax.url.indexOf("?")!==-1?"&":"?";f.ajax.url+=h+"bootboxid="+e;l(f)}catch(c){console.error(s,c)}};this.delete=function(r){var l=t+"delete method: ",u,s,h,o,c,e;try{if(console.log(l+"options",r),!r)throw new'The "options" parameter is required!';if(!r.ajax)throw new'The "ajax" parameter is required!';if(!r.ajax.url)throw new'The "ajax.url" parameter is required!';if(!r.confirm)throw new'The "confirm" parameter is required!';if(u=new f,u.ajax=r.ajax,u.confirm=r.confirm,r.title&&(u.title=r.title),r.size&&(u.size=r.size),r.style&&(u.style=r.style),r.shown&&(u.shown=r.shown),r.hidden&&(u.hidden=r.hidden),r.success&&(u.success=r.success),s=null,h=null,u.size&&(u.size.toLowerCase()==="large"?h="large":u.size.toLowerCase()==="small"?h="small":s=parseInt(u.size)),o=i(),u.ajax.data.bootboxid=o,c=bootbox.dialog({title:u.title,show:!1,size:h,message:r.confirm,onEscape:function(){c.modal("hide")},buttons:{ok:{label:n.DefaultOptions.yesLabel,className:"btn btn-danger mr-auto",callback:function(){$.ajax({cache:!1,url:u.ajax.url,type:"post",contenttype:"application/json",datatype:"json",data:u.ajax.data,success:function(n){n.ReturnValue!==0?bootbox.alert({size:"large",message:n.ReturnMessage,callback:function(){}}):u.success&&u.success()},error:function(n,t){console.log(l+"Ajax hívás sikertelen: ",t,n.responseText)}})}},cancel:{label:n.DefaultOptions.noLabel,className:"btn btn-secondary"}}}),c.attr("id",o),e=$("#"+o),e.find(".bootbox-body").attr("id",o+"-body"),s&&e.find(".modal-dialog").css("max-width",s),u.styles&&e.find(".modal-content").attr("style",u.styles),u.shown)e.on("shown.bs.modal",u.shown(o));if(u.hidden)e.on("hidden.bs.modal",u.hidden);e.modal("show");n.LastDialog=c}catch(a){console.error(l,a)}};this.hide=function(n){$("#"+n).modal("hide")};this.wait=function(n,t=null){n||(n="Please wait a moment ...");var i=bootbox.dialog({message:'<div class="text-center"><i class="fa fa-spin fa-spinner"><\/i> '+n+"<\/div>"});if(t)i.on("shown.bs.modal",function(){i.off("shown.bs.modal");t&&t()});return i}}function i(){this.isOn=function(){var n=window.outerHeight,t=screen.height;return n===t};this.swap=function(){var n=window.document,t=n.documentElement,i=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,r=n.exitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen||n.msExitFullscreen;n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement?r.call(n):i.call(t)}}function r(){var t=this,n="VrhMasterData prototype: ";this.addClass=function(t,i,r){var f=n+"addClass method: ";try{console.log(f+"parentSelector, toSelector, className",t,i,r);var e=r||"form-control",o=i||"input",u=$(t).find(o);if(u.length)u.addClass(e);else throw new('The selector "'+t+".find("+i+') " does not identify an element');}catch(s){console.error(s)}};this.resizeCardBody=function(t){var u,w;$.isNumeric(t)||(t=0);var i=0,r=0,e=n+"resizeCardBody method: ";try{vrhmenu.ViewMode===vrhmenu.ViewModes.Desktop&&(u=$(".navbar.fixed-top"),u.is(":visible")?(i=u.outerHeight(),r=$(".navbar.fixed-bottom").outerHeight()):i=$("#desktophidebar").outerHeight())}catch(b){console.log(e+"Nem elérhető a Vrh.Web.Menu komponens!");i=0;r=0;u=$(".navbar.fixed-top");u.is(":visible")&&(i=u.outerHeight(),r=$(".navbar.fixed-bottom").outerHeight())}$.isNumeric(i)||(i=0);$.isNumeric(r)||(r=0);console.log(e+"heightAdjuster=%d, top=%d, bottom=%d",t,i,r);var o=0,s=0,f=$(".container-fluid.body-content");f.css("margin-top")&&(o=parseFloat(f.css("margin-top").replace(/[^0-9.]/g,""))+1);f.css("margin-bottom")&&(s=parseFloat(f.css("margin-bottom").replace(/[^0-9.]/g,""))+1);var h=$("div.card-header"),c=h.outerHeight(),l=parseFloat(h.css("padding-top").replace(/[^0-9.]/g,""))+1,a=parseFloat(h.css("padding-bottom").replace(/[^0-9.]/g,""))+1,v=$("div.card-body"),y=parseFloat(v.css("padding-top").replace(/[^0-9.]/g,""))+1,p=parseFloat(v.css("padding-bottom").replace(/[^0-9.]/g,""))+1;console.log(e+"top=%d, bottom=%d, mtop=%d, mbottom=%d, head=%d, headtop=%d, headbottom=%d, bodytop=%d, bodybottom=%d",i,r,o,s,c,l,a,y,p);w=$("div.card-body > div.table-responsive");w.css("height",window.innerHeight-i-r-o-s-c-l-a-y-p-5+t)}}this.autocomplete=new n;this.bootbox=new t;this.fullscreen=new i;this.masterdata=new r;String.prototype.format=String.prototype.f=function(){for(var n=this,t=arguments.length;t--;)n=n.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t]);return n}}function VrhDataTable(n){"use strict";function e(){var i=t.Constants.THISPT+"setAfterComplete method: ",n=40;f||n<=0?(console.log(i+"HURRÁ :) Kész a tábla!"),setTimeout(function(){u();t.Options.initComplete&&t.Options.initComplete(t.Settings)},100)):(console.log(i+"AJJAJ :( Még készül a tábla! testNo=%d",n),n--,setTimeout(function(){e()},50))}function u(){var h=t.Constants.THISPT+"setFiltering private method: ",n,e,o,u,s,f;console.log(h+"PING");var r=t.Options.tableId+"-ColumnFilter",c=t.$table.find("thead"),i="<tr>";for(n=0;n<t.Settings.aoColumns.length;n++)e=t.Settings.aoColumns[n].bSearchable,o=t.Settings.aoColumns[n].bVisible,o&&(i+="<th>",e&&(u=null,t.Options.filterDefs!=null&&(u=t.Options.filterDefs.find(function(t){return t.column==n})),u?(s=$("#"+u.id).html(),i+='﻿<select id="'+r+n+'" class="datatableColumnFilter">'+s+"<\/select>"):i+='﻿<input type="text" id="'+r+n+'" class="datatableColumnFilter" />'),i+="<\/th>");i+="<\/tr>";c.prepend(i);f=t.Table.state.loaded();f&&(t.Table.columns().eq(0).each(function(n){var i=f.columns[n].search,u;i.search&&(u=null,t.Options.filterDefs!=null&&(u=t.Options.filterDefs.find(function(t){return t.column==n})),u?$('select[id="'+r+n+'"]').val(i.search):$('input[id="'+r+n+'"]').val(i.search))}),t.Table.draw());t.Table.columns().every(function(){var n=this,i=this.index(),u=r+i,f=null;if(t.Options.filterDefs!=null&&(f=t.Options.filterDefs.find(function(n){return n.column==i})),f)$('select[id="'+u+'"]').on("change",function(){n.search()!==this.value&&n.search(this.value).draw()});else $('input[id="'+u+'"]').on("keyup",function(){n.search()!==this.value&&n.search(this.value).draw()})})}var t=this,i=[],f=!1,r;this.Table=null;this.$table="";this.Settings=null;this.Constants={LCID_ENUS:"en-US",LCID_HUHU:"hu-HU",THISPT:"VrhDataTable prototype:  "};this.Options={ajax:{url:null,type:"post"},autoWidth:!1,columns:null,columnDefs:null,dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",filtering:!0,filterDefs:null,initComplete:null,lcid:t.Constants.LCID_HUHU,tableId:null,paging:!0,processing:!0,scrollCollapse:!1,scrollY:"",serverSide:!0,stateSave:!0};this.reload=function(){var n=t.Constants.THISPT+"reload method: ";console.log(n+"PING me.Options",t.Options);t.Table&&t.Table.destroy();t.Table=null;t.Table=t.$table.DataTable({ajax:t.Options.ajax,autoWidth:t.Options.autoWidth,columns:t.Options.columns,columnDefs:t.Options.columnDefs,dom:t.Options.dom,language:t.GetLanguage(t.Options.lcid),scrollCollapse:t.Options.scrollCollapse,scrollY:t.Options.scrollY,serverSide:t.Options.serverSide,stateSave:t.Options.stateSave,processing:t.Options.processing,initComplete:function(i,f){console.log(n+"initComplete OK settings",i);t.Settings=i;r=f;setTimeout(function(){t.Options.filtering&&u();t.Options.initComplete&&t.Options.initComplete(t.Settings,r)},50)}})};this.GetLanguage=function(n){for(var u=null,r=0;r<i.length;r++){if(i[r].lcid===n)return i[r].language;i[r].lcid===t.Constants.LCID_ENUS&&(u=i[r].language)}return u};try{if(i.push({lcid:this.Constants.LCID_ENUS,language:{decimal:"",emptyTable:"No data available in table",info:"Showing _START_ to _END_ of _TOTAL_ entries",infoEmpty:"Showing 0 to 0 of 0 entries",infoFiltered:"(filtered from _MAX_ total entries)",infoPostFix:"",thousands:",",lengthMenu:"Show _MENU_ entries",loadingRecords:"Loading...",processing:'<i class="fas fa-spinner fa-spin fa-3x fa-fw"><\/i>',search:"Search:",zeroRecords:"No matching records found",paginate:{first:"First",last:"Last",next:"Next",previous:"Previous"},aria:{sortAscending:": activate to sort column ascending",sortDescending:": activate to sort column descending"}}}),i.push({lcid:this.Constants.LCID_HUHU,language:{decimal:"",emptyTable:"Nincs rendelkezésre álló adat",info:"Találatok: _START_ - _END_ Összesen: _TOTAL_",infoEmpty:"Nulla találat",infoFiltered:"(_MAX_ összes rekord közül szűrve)",infoPostFix:"",thousands:",",lengthMenu:"<select><option value='5'>5<\/option><option value='10'>10<\/option><option value='20'>20<\/option><option value='50'>50<\/option><option value='100'>100<\/option><option value='200'>200<\/option><option value='500'>500<\/option><option value='1000'>1000<\/option><option value='-1'>Összes<\/option><\/select> találat oldalanként",loadingRecords:"Betöltés...",processing:'<i class="fas fa-spinner fa-spin fa-3x fa-fw"><\/i>',search:"Keresés:",zeroRecords:"Nincs a keresésnek megfelelő találat",paginate:{first:"Első",last:"Utolsó",next:"Következő",previous:"Előző"},aria:{sortAscending:": aktiválja a növekvő rendezéshez",sortDescending:": aktiválja a csökkenő rendezéshez"}}}),n){if($.extend(!0,this.Options,n),this.Options.tableId){if(this.$table=$("#"+this.Options.tableId),!this.$table.length)throw'The table is not exists! tableId = "'+n.tableId+'"';}else throw"The options.tableId parameter is required!";if(!this.Options.columns)throw"The options.columns parameter is required!";if(this.Options.ajax){if(!this.Options.ajax.url)throw"The options.ajax.url parameter is required!";}else throw"The options.ajax parameter is required!";t.reload()}else throw"The options parameter is required!";}catch(o){console.error(this.Constants.THISPT,o)}}function VrhIdNameHandler(n){"use strict";function s(n,i=null){n||(n=t.Message.Wait);var r=bootbox.dialog({message:'<div class="text-center"><i class="fa fa-spin fa-spinner"><\/i> '+n+"<\/div>"});if(i)r.on("shown.bs.modal",function(){r.off("shown.bs.modal");i&&i()});return r}function u(){var n=f+"refreshDataRows: ";console.log(n+"START dataRowsId",e);$.ajax({method:"GET",cache:!1,url:t.Url.List,contenttype:"application/json",datatype:"json",success:function(i){var r,f,u;if(i.ErrorMessage===""){for(r=i.DataList,console.log(n+"Lekérdezés sikeres. etList",r),f="",u=0;u<r.length;u++)f+=t.VisibleIdColumn?'<tr class="active"><td>'+r[u].Value+"<\/td><td>"+r[u].Text+"<td>":'<tr class="active"><td>'+r[u].Text+"<td>",(t.AllowUpdate||t.AllowDelete)&&(f+='<td style="width:50px;">',t.AllowUpdate&&r[u].Selected==!1&&(f+='<span class="fas fa-pencil-alt idnamehandler-update datatableActionIcon"  title="'+t.Title.IconPencil+'" data-id="'+r[u].Value+'" data-name="'+r[u].Text+'"><\/span>'),t.AllowDelete&&r[u].Disabled==!1&&(f+='<span class="fas fa-trash-alt idnamehandler-delete datatableActionIcon" title="'+t.Title.IconTrash+'" data-id="'+r[u].Value+'" data-name="'+r[u].Text+'"><\/span>'),f+="<\/td>"),f+="<\/tr>";$(e).html(f);$(".idnamehandler-update").click(function(){h($(this).data("id"),$(this).data("name"))});$(".idnamehandler-delete").click(function(){c($(this).data("id"),$(this).data("name"))})}else bootbox.alert(i.ErrorMessage)},error:function(t){console.log(n+"Ajax hívás sikertelen!",t.responseText)}})}function h(n,i){var r="VrhIdNameHandler: updateData: ";(console.log(r+"START id="+n+"; name="+i+"; allowUpdate="+t.AllowUpdate),t.AllowUpdate)&&bootbox.prompt({value:i,size:"small",title:t.Title.IconPencil,callback:function(i){i!==null&&$.ajax({method:"POST",cache:!1,url:t.Url.Update,contenttype:"application/json",datatype:"json",data:{dataId:n,dataName:i},success:function(n){n===""?(console.log(r+"Sikeres módosítás."),u()):bootbox.alert(n)},error:function(n){console.log(r+"Ajax hívás sikertelen!",n.responseText)}})}})}function c(n,r){var f="VrhIdNameHandler: deleteData: ",e;console.log(f+"id="+n+"; name="+r);i.addClass("darken");e=bootbox.dialog({title:t.Title.Confirm,message:t.Label.Data+": "+r+"<br /><br />"+t.Message.Delete+"<br /><br />"+t.Confirm.Delete,onEscape:function(){e.modal("hide");i.removeClass("darken")},buttons:{ok:{label:t.Label.Button.Yes,className:"btn btn-danger",callback:function(){console.log(f+"biztos benne Id="+n);e.modal("hide");var r=s(t.Message.Wait,function(){$.ajax({method:"POST",cache:!1,url:t.Url.Delete,contenttype:"application/json",datatype:"json",data:{dataId:n},success:function(n){r.modal("hide");n===""?(i.removeClass("darken"),console.log(f+"Sikeres törlés."),u()):bootbox.alert(n,function(){i.removeClass("darken")})},error:function(n){r.modal("hide");console.log(f+"Ajax hívás sikertelen!",n.responseText)}})})}},cancel:{label:t.Label.Button.No,className:"btn btn-primary",callback:function(){i.removeClass("darken")}}}})}var f="VrhIdNameHandler prototype: ",t=new VrhIdNameHandlerOptions;if(n)$.extend(!0,t,n),console.log(f+"options=",t);else throw"The handlerOptions parameter is required!";var r=t.LCID.substr(0,2),e="#"+t.Id.DataRows,o="#"+t.Id.DataNew,i=$("#"+t.Id.Editor);bootbox.setLocale(r);r==="hu"&&(bootbox.removeLocale(r),bootbox.addLocale(r,{OK:"OK",CANCEL:"Mégsem",CONFIRM:"OK"}));this.addData=function(){var n="VrhIdNameHandler: addData: ",i=$(o).val();(console.log(n+"START newName=%s, options=%o",i,t),t.AllowAdd)&&$.ajax({method:"POST",cache:!1,url:t.Url.Add,contenttype:"application/json",datatype:"json",data:{dataName:i},success:function(t){t===""?(console.log(n+"Sikeres hozzáadás."),u()):bootbox.alert(t)},error:function(t){console.log(n+"Ajax hívás sikertelen!",t.responseText)}})};u()}function VrhIdNameHandlerOptions(){this.AllowAdd=!0;this.AllowDelete=!0;this.AllowUpdate=!0;this.Confirm={Delete:""};this.Id={Editor:"",DataRows:"",DataNew:""};this.Label={Button:{Yes:"",No:""},Data:""};this.LCID="";this.Message={Wait:"",Delete:""};this.Title={Confirm:"",IconPencil:"",IconTrash:""};this.Url={Add:"",Delete:"",List:"",Update:""};this.VisibleIdColumn=!0}try{var vrhct=new VrhCommonTools}catch(e){console.log(e)}class VrhDataTableFilter{constructor(n,t){this.column=n;this.id=t}}